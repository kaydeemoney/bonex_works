{% extends "base.html" %}

{% block content %}

<div class="header">
  <h1>Dashboard</h1>
  <div class="user-info">
    <span class="username">{{ first_name }} {{ last_name }}</span>
    <img src="{{ url_for('static', filename='uploads/' + profile_picture ) }}" alt="User Avatar" class="avatar" />
  </div>
</div>

<section class="user-summary">
  <div class="summary-card">
    <div class="user-info">
      <img src="{{ url_for('static', filename='uploads/' + profile_picture ) }}" alt="User" class="profile-pic-lg" />
      <div>
        <h3>{{ first_name }} {{ last_name }}</h3>
        <p>{{ email }}</p>
      </div>
    </div>
    <div class="balance-info">
      <h4>Available Balance</h4>
      <p>${{ withdrawable_balance }}</p>
      <div class="buttons">
        <button class="deposit">Deposit</button>
        <button class="withdraw">Withdraw</button>
      </div>
    </div>
  </div>
</section>

<div class="dashboard-cards">
  <!-- Total Balance -->
  <div class="card">
    <div class="card-header">
      <span>Total Balance</span>
      <div class="icon-box"><i class="fa-solid fa-wallet"></i></div>
    </div>
    <div class="card-amount">${{ total_balance_usd }}</div>
    <div class="card-change positive">+12% <span>vs last month</span></div>
  </div>

  <!-- Total Earnings -->
  <div class="card">
    <div class="card-header">
      <span>Total Earnings</span>
      <div class="icon-box"><i class="fa-solid fa-dollar-sign"></i></div>
    </div>
    <div class="card-amount">${{ total_earnings_usd }}</div>
    <div class="card-change positive">+8% <span>vs last month</span></div>
  </div>

  <!-- Total Invested -->
  <div class="card">
    <div class="card-header">
      <span>Total Invested</span>
      <div class="icon-box"><i class="fa-solid fa-chart-line"></i></div>
    </div>
    <div class="card-amount">${{ total_invested_usd }}</div>
    <div class="card-change positive">+5% <span>vs last month</span></div>
  </div>
</div>

<section class="investment-section">
  <p class="investment-title">Active Investments</p>
  <div class="cards-container">
    <!-- Card 1 -->
    <div class="investment-card">
      <div class="card-top">
        <div class="plan-title">
          <div class="plan-icon"><i class="fa-solid fa-wallet"></i></div>
          <span class="plan-name">{{ active_investment }}</span>
        </div>
        <span class="status-badge">{{ account_status }}</span>
      </div>
      <div class="card-info">
        <div class="info-group">
          <label>Invested Amount</label>
          <div class="info-value">${{ total_invested_usd }}</div>
        </div>
        <div class="info-group">
          <label>Expected Profit</label>
          <div class="info-value profit">${{ roi_percentage }}%</div>
        </div>
        <div class="info-group">
          <label>ROI</label>
          <div class="info-value">{{ roi_percentage }}%</div>
        </div>
        <div class="info-group">
          <label>End Date</label>
          <div class="info-value">{{ last_investment_date }}</div>
        </div>
      </div>
      
      
    </div>
  </div>
</section>

<section class="investment-section">
  <p class="investment-title">Completed Investments</p>
  <div class="cards-container">
    <!-- Card 1 -->
    <div class="investment-card">
      <div class="card-top">
        <div class="plan-title">
          <div class="plan-icon"><i class="fa-solid fa-wallet"></i></div>
          <span class="plan-name">Starter Plan</span>
        </div>
        <span class="status-badge">Closed</span>
      </div>
      <div class="card-info">
        <div class="info-group">
          <label>Invested Amount</label>
          <div class="info-value">${{ total_invested_usd }}</div>
        </div>
        <div class="info-group">
          <label>Expected Profit</label>
          <div class="info-value profit">${{ roi_percentage }}%</div>
        </div>
        <div class="info-group">
          <label>ROI</label>
          <div class="info-value">{{ roi_percentage }}%</div>
        </div>
        <div class="info-group">
          <label>End Date</label>
          <div class="info-value">{{ last_investment_date }}</div>
        </div>
      </div>
      <button class="details-btn">View Details</button>
    </div>
  </div>
</section>

{% endblock content %}
